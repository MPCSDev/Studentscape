"use strict";(self.webpackChunkstudentscape=self.webpackChunkstudentscape||[]).push([[159],{342:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(294),a=n(454);const l=({color:e,onClick:t,children:n})=>{const[l,c]=(0,r.useState)(!1);return r.createElement(a.Z,{type:"button",color:e,disabled:l,onClick:()=>{return e=void 0,n=void 0,a=function*(){c(!0),yield t(),c(!1)},new((r=void 0)||(r=Promise))((function(t,l){function c(e){try{s(a.next(e))}catch(e){l(e)}}function o(e){try{s(a.throw(e))}catch(e){l(e)}}function s(e){var n;e.done?t(e.value):(n=e.value,n instanceof r?n:new r((function(e){e(n)}))).then(c,o)}s((a=a.apply(e,n||[])).next())}));var e,n,r,a}},l?r.createElement("span",{className:"animate-spin h-5 w-5 rounded-full border-4 border-l-transparent border-neutral-100"}):r.createElement(r.Fragment,null,n))}},487:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(294),a=n(454);const l=({isSubmitting:e,children:t})=>r.createElement(a.Z,{type:"submit",disabled:e},e?r.createElement("span",{className:"animate-spin h-5 w-5 rounded-full border-4 border-l-transparent border-neutral-100"}):r.createElement(r.Fragment,null,t))},454:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(294);const a={blue:"bg-blue-600 hover:bg-blue-800 disabled:bg-blue-400",red:"bg-red-600 hover:bg-red-800 disabled:bg-red-400"},l=e=>{var{color:t,children:n}=e,l=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}(e,["color","children"]);return t||(t="blue"),r.createElement("button",Object.assign({},l,{className:`rounded-md w-full p-2 font-semibold text-white flex justify-center ${a[t]}`}),r.createElement(r.Fragment,null,n))}},249:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(294);const a=({error:e})=>r.createElement("div",{className:"bg-red-100 border-l-4 border-r-4 text-center border-red-500 text-red-700 p-2",role:"alert"},r.createElement("p",null,e))},159:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var r=n(294),a=n(617),l=n(342);const c=({url:e})=>r.createElement("div",{className:"\n      bg-neutral-500 \n      h-20 w-20 -mt-12 \n      rounded-full \n      overflow-hidden \n      flex justify-center\n      items-center \n      border-4 \n      border-neutral-700"},e&&r.createElement("img",{src:e,className:"object-fill"}));var o=n(649),s=n(487),i=n(249),u=n(308),d=n(59);const m=({closeForm:e})=>{const[t,n]=(0,r.useState)(a.I8.currentUser.photoURL),[l,m]=(0,r.useState)(""),[f,p]=a.I8.currentUser.displayName.split(" "),b=(0,o.TA)({initialValues:{firstName:f,lastName:p||"",profileImage:""},onSubmit:r=>{return l=void 0,c=void 0,s=function*(){try{let l=a.I8.currentUser.photoURL;if(t!==l){const e=(0,u.iH)((0,u.cF)(a.l2),`profile/${a.I8.currentUser.uid}`);yield(0,u.sf)(e,t,"data_url"),l=yield(0,u.Jt)(e),n(l)}yield(0,d.ck)(a.I8.currentUser,{displayName:r.firstName+" "+r.lastName,photoURL:l}),e()}catch(e){m(e.code)}},new((o=void 0)||(o=Promise))((function(e,t){function n(e){try{a(s.next(e))}catch(e){t(e)}}function r(e){try{a(s.throw(e))}catch(e){t(e)}}function a(t){var a;t.done?e(t.value):(a=t.value,a instanceof o?a:new o((function(e){e(a)}))).then(n,r)}a((s=s.apply(l,c||[])).next())}));var l,c,o,s}});return r.createElement("form",{onSubmit:b.handleSubmit,className:"space-y-2"},r.createElement("div",{className:"flex justify-center w-full"},r.createElement("div",{className:"relative"},r.createElement(c,{url:t}),r.createElement("label",{htmlFor:"profile-photo"},r.createElement("span",{className:"material-icons absolute right-0 bottom-0 cursor-pointer"},"add_a_photo")),r.createElement("input",{id:"profile-photo",className:"hidden",type:"file",name:"profileImage",onChange:e=>{const t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=()=>{n(t.result)},b.handleChange(e)}}))),l&&r.createElement(i.Z,{error:l}),r.createElement("div",{className:"flex flex-row items-center py-3 space-x-3"},r.createElement("input",{type:"text",name:"firstName",placeholder:"First Name",value:b.values.firstName,className:"w-full focus:outline-none py-2 px-4 rounded-lg text-black",onChange:b.handleChange}),r.createElement("input",{type:"text",name:"lastName",placeholder:"Last Name",value:b.values.lastName,className:"w-full focus:outline-none py-2 px-4 rounded-lg text-black",onChange:b.handleChange})),r.createElement(s.Z,{isSubmitting:b.isSubmitting},"Save"))};var f=function(e,t,n,r){return new(n||(n=Promise))((function(a,l){function c(e){try{s(r.next(e))}catch(e){l(e)}}function o(e){try{s(r.throw(e))}catch(e){l(e)}}function s(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,o)}s((r=r.apply(e,t||[])).next())}))};const p=()=>{const[e,t]=(0,r.useState)(!1);return r.createElement("div",{className:"flex flex-col p-3 items-center space-y-3"},r.createElement("div",{className:"bg-neutral-700 max-w-xl w-full p-3 rounded-md flex flex-col items-center mt-20"},e?r.createElement(m,{closeForm:()=>t(!1)}):r.createElement("div",{className:"space-y-3 w-full flex flex-col items-center"},r.createElement(c,{url:a.I8.currentUser.photoURL}),r.createElement("div",{className:"text-center"},r.createElement("p",{className:"font-bold text-xl"},a.I8.currentUser.displayName),r.createElement("p",{className:"font-thin"},a.I8.currentUser.email)),r.createElement(l.Z,{onClick:()=>f(void 0,void 0,void 0,(function*(){return t(!0)}))},"Edit Profile"))),r.createElement("div",{className:"bg-neutral-700 max-w-xl w-full p-3 rounded-md"},r.createElement(l.Z,{color:"red",onClick:()=>f(void 0,void 0,void 0,(function*(){yield a.I8.signOut()}))},"Sign Out")))}}}]);