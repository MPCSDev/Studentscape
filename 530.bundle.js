"use strict";(self.webpackChunkstudentscape=self.webpackChunkstudentscape||[]).push([[530],{74:(e,t,n)=>{n.d(t,{Ai:()=>o,FI:()=>r,DZ:()=>c});const a="https://shishya-server.herokuapp.com/api";var l=function(e,t,n,a){return new(n||(n=Promise))((function(l,r){function c(e){try{s(a.next(e))}catch(e){r(e)}}function o(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,o)}s((a=a.apply(e,t||[])).next())}))};function r(e){return l(this,void 0,void 0,(function*(){const t=yield fetch(`${a}/user/exist/${e}`),{found:n}=yield t.json();return n}))}function c(e){return l(this,void 0,void 0,(function*(){yield fetch(`${a}/user/upsert/`,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}))}function o(e){return l(this,void 0,void 0,(function*(){const t=yield fetch(`${a}/user/${e}`);return yield t.json()}))}},487:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(294),l=n(454);const r=({isSubmitting:e,children:t})=>a.createElement(l.Z,{type:"submit",disabled:e},e?a.createElement("span",{className:"animate-spin h-5 w-5 rounded-full border-4 border-l-transparent border-neutral-100"}):a.createElement(a.Fragment,null,t))},454:(e,t,n)=>{n.d(t,{Z:()=>r});var a=n(294);const l={blue:"bg-blue-600 hover:bg-blue-800 disabled:bg-blue-400",red:"bg-red-600 hover:bg-red-800 disabled:bg-red-400"},r=e=>{var{color:t,children:n}=e,r=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var l=0;for(a=Object.getOwnPropertySymbols(e);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(n[a[l]]=e[a[l]])}return n}(e,["color","children"]);return t||(t="blue"),a.createElement("button",Object.assign({},r,{className:`rounded-md w-full p-2 font-semibold text-white flex justify-center ${l[t]}`}),a.createElement(a.Fragment,null,n))}},249:(e,t,n)=>{n.d(t,{Z:()=>l});var a=n(294);const l=({error:e})=>a.createElement("div",{className:"bg-red-100 border-l-4 border-r-4 text-center border-red-500 text-red-700 p-2",role:"alert"},a.createElement("p",null,e))},547:(e,t,n)=>{n.d(t,{Z:()=>m});var a=n(308),l=n(649),r=n(294),c=n(74),o=n(617),s=n(487),i=n(249);const m=({firstName:e,lastName:t,photoURL:n,onSave:m})=>{const[u,d]=(0,r.useState)(n),[f,p]=(0,r.useState)(""),h=(0,l.TA)({initialValues:{firstName:e,lastName:t,profileImage:""},onSubmit:e=>{return t=void 0,l=void 0,s=function*(){let t=n;try{if(u!==n){const e=(0,a.iH)((0,a.cF)(o.l2),`profile/${o.I8.currentUser.uid}`);yield(0,a.sf)(e,u,"data_url"),t=yield(0,a.Jt)(e),d(t)}yield(0,c.DZ)({firebaseUID:o.I8.currentUser.uid,firstName:e.firstName,lastName:e.lastName,email:o.I8.currentUser.email,photoURL:t}),yield m()}catch(e){p(e)}},new((r=void 0)||(r=Promise))((function(e,n){function a(e){try{o(s.next(e))}catch(e){n(e)}}function c(e){try{o(s.throw(e))}catch(e){n(e)}}function o(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(a,c)}o((s=s.apply(t,l||[])).next())}));var t,l,r,s}});return r.createElement("form",{className:"space-y-3",onSubmit:h.handleSubmit},r.createElement("div",{className:"flex justify-center"},r.createElement("div",{className:"relative"},r.createElement("div",{className:"w-24 h-24 rounded-full overflow-hidden -mt-10 border-4 border-neutral-700 flex items-center justify-center bg-neutral-500"},r.createElement("img",{src:u,className:"object-fill"})),r.createElement("label",{htmlFor:"profile-photo"},r.createElement("span",{className:"material-icons absolute right-0 bottom-0 cursor-pointer"},"add_a_photo")),r.createElement("input",{id:"profile-photo",className:"hidden",type:"file",name:"profileImage",onChange:e=>{const t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=()=>{d(t.result)},h.handleChange(e)}}))),f&&r.createElement(i.Z,{error:f}),r.createElement("div",{className:"flex space-x-2"},r.createElement("input",{name:"firstName",value:h.values.firstName,onChange:h.handleChange,placeholder:"First Name",className:"w-full focus:outline-none py-2 px-4 rounded-lg text-black"}),r.createElement("input",{name:"lastName",value:h.values.lastName,onChange:h.handleChange,placeholder:"Last Name",className:"w-full focus:outline-none py-2 px-4 rounded-lg text-black"})),r.createElement(s.Z,{isSubmitting:h.isSubmitting},"Save"))}},530:(e,t,n)=>{n.r(t),n.d(t,{default:()=>v});var a=n(294),l=n(711),r=n(974),c=n(74);const o=()=>a.createElement("div",{className:"bg-blue-500 p-3"},a.createElement("div",{className:"flex justify-around md:justify-start md:flex-col md:space-y-5"},a.createElement(l.rU,{to:"/"},a.createElement("span",{className:"material-icons"},"home")),a.createElement(l.rU,{to:"/groups"},a.createElement("span",{className:"material-icons"},"groups")),a.createElement(l.rU,{to:"/search"},a.createElement("span",{className:"material-icons"},"search")),a.createElement(l.rU,{to:"/notifications"},a.createElement("span",{className:"material-icons"},"notifications")),a.createElement(l.rU,{to:"/profile"},a.createElement("span",{className:"material-icons"},"account_circle"))));var s=n(547),i=n(370),m=n(617);const u=a.lazy((()=>n.e(752).then(n.bind(n,752)))),d=a.lazy((()=>n.e(812).then(n.bind(n,812)))),f=a.lazy((()=>n.e(663).then(n.bind(n,663)))),p=a.lazy((()=>n.e(702).then(n.bind(n,702)))),h=a.lazy((()=>n.e(317).then(n.bind(n,317)))),v=()=>{const[e,t]=(0,a.useState)();return(0,a.useEffect)((()=>{(0,c.FI)(m.I8.currentUser.uid).then((e=>t(e)))}),[]),void 0===e?a.createElement("div",{className:"h-full flex items-center justify-center"},a.createElement(i.Z,null)):!1===e?a.createElement("div",{className:"h-full m-auto max-w-xl"},a.createElement("div",{className:"pt-20"},a.createElement("div",{className:"bg-neutral-700 rounded-lg text-neutral-200 pl-3 pr-3 pb-3"},a.createElement(s.Z,{firstName:"",lastName:"",photoURL:"",onSave:()=>{return e=void 0,t=void 0,a=function*(){return location.reload()},new((n=void 0)||(n=Promise))((function(l,r){function c(e){try{s(a.next(e))}catch(e){r(e)}}function o(e){try{s(a.throw(e))}catch(e){r(e)}}function s(e){var t;e.done?l(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(c,o)}s((a=a.apply(e,t||[])).next())}));var e,t,n,a}})))):a.createElement("div",{className:"flex flex-col-reverse md:flex-row h-full text-neutral-200"},a.createElement(l.UT,null,a.createElement(o,null),a.createElement("div",{className:"flex-auto relative"},a.createElement(a.Suspense,{fallback:a.createElement("div",{className:"absolute top-1/2 left-1/2 -mt-5 -ml-5"},a.createElement(i.Z,null))},a.createElement(r.Z5,null,a.createElement(r.AW,{path:"/",element:a.createElement(u,null)}),a.createElement(r.AW,{path:"/groups",element:a.createElement(d,null)}),a.createElement(r.AW,{path:"/search",element:a.createElement(f,null)}),a.createElement(r.AW,{path:"/notifications",element:a.createElement(p,null)}),a.createElement(r.AW,{path:"/profile",element:a.createElement(h,null)}))))))}}}]);